# Path Fix Summary - 2025-10-12

## Problem
Nach der Projekt-Reorganisation lagen Scripts in `scripts/utils/` statt `scripts/`, was zu falschen Pfad-Berechnungen führte.

## Fixed Files

### 1. scripts/utils/reset_db.py
**Problem:** `Path(__file__).resolve().parents[1]` zeigte auf `scripts/` statt Root  
**Fix:** Geändert zu `.parents[2]` (zwei Ebenen hoch)

### 2. scripts/utils/dedupe_db.py
**Problem:** Hardcoded `DB_PATH = "bdo_tracker.db"` (funktioniert nur von Root)  
**Fix:** Pathlib-basierte Pfadberechnung hinzugefügt

### 3. scripts/utils/calibrate_region.py
**Problem:** `sys.path.insert(0, os.path.join(os.path.dirname(__file__), '..'))` zu kurz  
**Fix:** Geändert zu `'..', '..'` (zwei Ebenen hoch)

### 4. scripts/utils/compare_ocr.py
**Problem:** Kein sys.path + fehlende Root-Verzeichnis-Referenz  
**Fix:** sys.path + chdir(ROOT_DIR) hinzugefügt

### 5. scripts/utils/debug_window.py
**Problem:** Hardcoded absoluter Pfad  
**Fix:** Relative Pfadberechnung mit `'..', '..'`

### 6. scripts/utils/debug_timestamp_positions.py
**Problem:** `.parents[1]` zu kurz  
**Fix:** Geändert zu `'..', '..'`

### 7. scripts/utils/smoke_parsing.py
**Problem:** `dirname(dirname(__file__))` zu kurz  
**Fix:** Explizite Pfad-Berechnung mit zwei Ebenen

### 8. scripts/test_quick_fixes.py
**Problem:** Referenz zu `scripts/benchmark_performance.py` (wurde nicht verschoben)  
**Fix:** Hinweis "(if available)" hinzugefügt

## Testing

```bash
# Alle Fixed Scripts getestet:
✅ python scripts/utils/reset_db.py
✅ python scripts/utils/smoke_parsing.py

# Funktionieren korrekt mit Root-Verzeichnis
```

## Pattern für neue Scripts in scripts/utils/

```python
import sys
import os
from pathlib import Path

# Add project root (two levels up from scripts/utils/) to path
sys.path.insert(0, os.path.join(os.path.dirname(__file__), '..', '..'))

# Or for file paths:
ROOT_DIR = Path(__file__).resolve().parents[2]
DB_PATH = ROOT_DIR / "bdo_tracker.db"
```

## Remaining Issues

**None** - Alle Pfade sind jetzt korrekt für die neue Struktur.

## Notes

- `debug_*.png` Files werden weiterhin im Root erstellt (by design)
- `ocr_log.txt` wird im Root erstellt (by design)
- `bdo_tracker.db` liegt im Root (by design)
- Alle Scripts in `scripts/utils/` benötigen **2 Ebenen** nach oben für Root

---

**Status:** ✅ Alle Pfad-Probleme behoben und getestet
